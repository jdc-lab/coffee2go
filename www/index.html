<!DOCTYPE html>
<html lang="de" class="h-100">
    
    <head>
        <title>Coffee2Go</title>
        <link rel="shortcut icon" href="img/favicon.png">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="css/default.css">
    </head>
    
    <body class="bg-light h-100" onload="run()">
        <div class="row m-0 h-100">
            <div class="col-12 col-sm-2 col-md-4 d-none d-sm-block"></div>

            <!--
                Main area with login form.
            -->
            <div class="col-12 col-sm-8 col-md-4">
                <div class="my-5 text-center">
                    <img src="img/coffee2go.png" alt="Coffee2Go" />
                </div>
                <form class="my-5" id="form-login" autocomplete="off" spellcheck="false">
                    <div class="form-group">
                        <input type="text" class="form-control border-none my-2 text-center" id="inp-server" placeholder="Servername">
                        <input type="text" class="form-control border-none my-2 text-center" id="inp-username" placeholder="Username">
                        <input type="password" class="form-control border-none my-2 text-center" id="inp-password" placeholder="Password">
                        <div class="my-5 text-center">
                            <button type="submit" class="btn btn-primary px-3">
                                <small class="text-500">START CHATTING</small>
                            </button>
                        </div>
                    </div>
                </form>
                <p class="text-center">
                    <small class="text-muted">&copy; 2019 Coffee2Go</small>
                </p>
            </div>

            <div class="col-12 col-sm-2 col-md-4 d-none d-sm-block"></div>
        </div>

        <!--
            JavaScript as bridge between Go and JS
        -->
        <script>
            const loginForm = document.querySelector('#form-login');

            const serverInp = document.querySelector("#inp-server");
            const usernameInp = document.querySelector("#inp-username");
            const passwordInp = document.querySelector('#inp-password');

            prefillForm = function (server, username, password) {
                serverInp.value = server;
                usernameInp.value = username;
                passwordInp.value = password;
            }

            loginForm.addEventListener('submit', async (e) => {
                e.preventDefault();

                let server = serverInp.value;
                let username = usernameInp.value;
                let password = passwordInp.value;

                await goLogin(server, username, password);
            });
        </script>
    </body>

</html>